<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <link rel="stylesheet" href="index.css" type="text/css">
  <script src="brainfucker.js"></script>
  <script>
    let run = brainFucker(['>', '<', '+', '-', '.', ',', '[', ']']);
    let make = () => {
      let commandStrs = ['incp', 'decp', 'incv', 'decv', 'put', 'get', 'start', 'end']
        .map((elt) => document.getElementById(elt).value);
      let jsCode = 'let run = (' + brainFucker.toString() + ')([' + commandStrs.map(elt => '\'' + elt + '\'').join(', ') + '])';
      document.getElementById('htmlCode').value = htmlCode(jsCode, makeHello(commandStrs));
    };
  </script>
  <title>BRAIN FUCKER</title>
</head>
<body>
  <main>
    <h1>Brain Fucker</h1>
    <div>
      <h2>CODE(Brainfuck)</h2>
      <textarea id="code" cols="80" rows="10"></textarea>
    </div>
    <div>
      <h2>INPUT</h2>
      <textarea id="input" cols="80" rows="3"></textarea>
    </div>
    <div>
      <button id="run" type="button" onclick="run();">RUN</button>
    </div>
    <div>
      <h2>OUTPUT<h2>
      <textarea id="output" cols="80" rows="3" readonly></textarea>
    </div>
    <hr>
    <div>
      <h2>COMMANDS<h2>
      <h3>increment the data pointer<h3>
      <input id="incp" type="text" value=">">
      <h3>decrement the data pointer<h3>
      <input id="decp" type="text" value="<">
      <h3>increment the byte at the data pointer<h3>
      <input id="incv" type="text" value="+">
      <h3>decrement the byte at the data pointer<h3>
      <input id="decv" type="text" value="-"><br>
      <h3>output the byte at the data pointer<h3>
      <input id="put" type="text" value=".">
      <h3>accept one byte of input, storing its value in the byte at the data pointer<h3>
      <input id="get" type="text" value=",">
      <h3>jump (if the byte at the data pointer is zero) <h3>
      <input id="start" type="text" value="[">
      <h3>jump (if the byte at the data pointer is nonzero) <h3>
      <input id="end" type="text" value="]">
    </div>
    <div>
      <button id="make" type="button" onclick="make();">MAKE</button>
    </div>
    <div>
      <h2>CODE(JavaScript)<h2>
      <textarea id="htmlCode" cols="80" rows="10" readonly></textarea>
    </div>
  </main>
  <script>
    let helloWorld = '+++++++++[>++++++++>+++++++++++>+++++<<<-]>.>++.+++++++..+++.>-.------------.<++++++++.--------.+++.------.--------.>+.';
    document.getElementById('code').value = helloWorld;
  </script>
</body>
</html>
